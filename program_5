import java.util.Arrays; 
import java.util.Comparator; 
 
class Item { 
    int value, weight; 
     
    public Item(int value, int weight) { 
        this.value = value; 
        this.weight = weight; 
    } 
} 
 
public class FractionalKnapsack { 
     
     public static double getMaxValue(Item[] items, int capacity) { 
        Arrays.sort(items, new Comparator<Item>() { 
            @Override 
            public int compare(Item a, Item b) { 
                double r1 = (double) a.value / a.weight; 
                double r2 = (double) b.value / b.weight; 
                return Double.compare(r2, r1); // Sort by decreasing ratio 
            } 
        }); 
 
        double totalValue = 0.0;   
        int remainingCapacity = capacity; 
 
         for (Item item : items) { 
            if (item.weight <= remainingCapacity) { 
                // If the item can fit in the knapsack, take it completely 
                totalValue += item.value; 
                remainingCapacity -= item.weight; 
            } else { 
                totalValue += item.value * ((double) remainingCapacity / item.weight); 
                break;  // Knapsack is full 
            } 
        } 
 
        return totalValue;   
    } 
 
    public static void main(String[] args) { 
        Item[] items = { 
            new Item(60, 10), 
            new Item(100, 20), 
            new Item(120, 30) 
        }; 
        int capacity = 50; 
 
        double maxValue = getMaxValue(items, capacity); 
        System.out.println("Maximum value we can obtain = " + maxValue); 
    } 
}
